<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>商品详情页</title>
	<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" >
	

    <!-- build:css styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="/bower_components/slick-carousel/slick/slick.css" />
    <link rel="stylesheet" href="/bower_components/swiper/dist/css/swiper.css" />
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:css styles/ge-main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->

    <!-- build:css styles/page/ge-goods-detail.css -->
    <link rel="stylesheet" href="styles/page/ge-goods-detail.css">
    <!-- endbuild -->
</head>
<script>
    // 设置html基础fontSize，保证css中使用rem的单位生效
    var _html = document.documentElement;
    var _windowWidth = _html.clientWidth;
    if(_windowWidth > 640){
        _html.style.fontSize = 50 + 'px'; // 按照iphone6的尺寸显示在PC端
    }else{
        _html.style.fontSize = _windowWidth / 7.5 + 'px';
    }
</script>

<body>

<div class="Tab">
    <!-- tab-header:start -->
    <div class="tab-header-wrap ">
        <ul class="tab-header">
            <li class="tab-header-item curr">商品</li>
            <li class="tab-header-item">详情</li>
            <li class="tab-header-item">评价</li>
        </ul>
    </div>
    <!-- tab-header:end -->
    <!-- tab-body:start -->
    <div class="tab-body-wrap">
        <ul class="tab-body">
            
            <li class="tab-body-item curr">
                <!-- tab-商品：start -->
                <!-- 商品详情大图：start -->
                    <div class="goods-pic-wrap ge-square-box">
                        <div class="ge-flex ">
                            <div class="ge-comm-slick ge-flex-1 " >
                                <div class="slick-item ge-square-box">
                                    <img data-lazy="images/goods.jpeg" alt="">
                                </div>
                                <div class="slick-item ge-square-box">
                                    <img data-lazy="images/goods.jpeg" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                <!-- 商品详情大图：end -->

                <!-- 限时购标志：start -->
                    <div class="limited-wrap">
                        <i>限时购</i>
                        <span>正在参与抢购（不可与券及活动同享）</span>
                    </div>
                <!-- 限时购标志：end -->

                <!-- 商品名称部分：start -->
                    <div class="goods-name-wrap">
                        <p class="main-name ge-two-line">
                            可瑞康爱他美 4段高级 Aptamil 金tamil 金装母婴装母婴tamil 金装母婴tamil 金装母婴用品 香港发货
                        </p>
                        <p class="sub-name">
                            可瑞康爱他美 4段高级 Apt母婴用品 香港发货可瑞康爱他美 4段高级 Aptamil 金装母婴用品 香港发货可瑞康爱他美 4段高级 Aptamil 金装母婴用品 香港发货
                        </p>
                    </div>
                <!-- 商品名称部分：end -->

                <!-- 商品价格部分：start -->
                    <div class="goods-price-wrap">
                        <div class="ge-flex ge-flex-vc">
                            <p class="now-price icon-price">499.99</p>
                            <p class="old-price"><s>￥599.99</s></p>
                            <div class="ge-flex-1">
                                <i class="right-tip">购买积10分</i>
                            </div>
                        </div>
                    </div>
                <!-- 商品价格部分：end -->

                <!-- 参数列表：start -->
                    <div class="goods-list-wrap">
                        <ul class="group">
                            <li class="ge-flex  " >
                                <p class="li-title">领券</p>
                                <div class="ge-flex-1 li-content">
                                    <div class="ge-flex ge-flex-vc li-aline ">
                                        <span class="li-icon">领券</span>
                                        <p class="ge-flex-1 ge-aline">满1000减100；满2000减200</p>
                                    </div>
                                    <div class="ge-flex ge-flex-vc li-aline">
                                        <span class="li-icon">限制</span>
                                        <p class="ge-flex-1 ge-aline">满1000减100；满2000减200</p>
                                    </div>
                                </div>
                                <div class="icon-more"></div>
                            </li>
                            <li class="ge-flex  " >
                                <p class="li-title">领券</p>
                                <div class="ge-flex-1 li-content">
                                    <div class="ge-flex ge-flex-vc li-aline">
                                        <span class="li-icon">领券</span>
                                        <p class="ge-flex-1 ge-aline">满1000减100；满2000减200</p>
                                    </div>
                                </div>
                                <div class="icon-more"></div>
                            </li>
                        </ul>
                        <ul class="group">
                            <li class="ge-flex  " >
                                <p class="li-title">已选</p>
                                <div class="ge-flex-1 li-content">
                                    <div class="ge-flex li-aline">
                                        <p class="ge-flex-1 ge-aline">400ml,白金装，3个</p>
                                    </div>
                                </div>
                                <div class="icon-more"></div>
                            </li>
                            <li class="ge-flex  " >
                                <p class="li-title">支付</p>
                                <div class="ge-flex-1 li-content ">
                                    <div class="ge-flex li-aline clear-padding" id="select-payway">
                                        <span class="li-icon btn-icon curr" >￥499.99</span>
                                        <span class="li-icon btn-icon " >积分45000</span> 
                                        <span class="li-icon btn-icon " >积分45000+￥499.99</span>
                                        <span class="li-icon btn-icon " >积分45000+￥499.99</span>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                <!-- 参数列表：end -->

                <!-- 商品支持：start -->
                    <div class="ge-group-min goods-support-wrap">
                        <span class="icon-support">支持门店售后</span>
                        <span class="icon-support">支持快递</span>
                        <span class="icon-support">鹰速达</span>
                    </div>
                <!-- 商品支持：end -->

                <!-- 品牌/店铺：start -->
                    <div class="ge-group-min goods-store-wrap ">
                        <div class="ge-flex store-info-box">
                            <div class="store-logo">
                                <div class="ge-square-box">
                                    <img src="images/goods.jpeg" alt="">
                                </div>
                            </div>
                            <div class="store-info ge-flex-1 ge-flex ge-flex-hc ge-flex-ver">
                                <p fs="30">aitamei</p>
                                <p fs="24" color="gray">在售商品<span color="main">50</span>件</p>
                            </div>
                        </div>
                        <div class="ge-flex">
                            <div class="ge-flex-1 ge-flex ge-flex-cc">
                                <a href="#" class="link-service" color='gray'>联系客服</a>
                            </div>
                            <div class="ge-flex-1 ge-flex ge-flex-cc">
                                <a href="#" class="into-store" color='gray'>进入店铺</a>
                            </div>
                        </div>
                    </div>
                <!-- 品牌/店铺：end -->
                
                <!-- 为您推荐：start -->
                    <div class="tab-wrap">
                        <ul class="ge-flex tab " id="tabWrap">
                            <li class="ge-flex-1 item " data-id="0">
                                <a href="javascript:;">为您推荐</a>
                            </li>
                            <li class="ge-flex-1 item" data-id="1">
                                <a href="javascript:;">排行榜</a>
                            </li>
                        </ul>
                        <ul class="con">
                            <li class="item curr">
                                <div class=" swiper-container">
                                    <div class="ge-flex swiper-wrapper goods-slick-wrap">
                                    <!-- 数据插入 -->
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                <!-- 为您推荐：end -->

                <!-- 更多推荐：start -->
                    <div class="ge-group-min btn-more">
                        <a href="#" class="" color="gray" fs='26'>查看更多为您推荐</a>
                    </div>
                <!-- 更多推荐：end -->

                <!-- 上拉显示图文详情：start -->
                    <div class="ge-group-min btn-more" id="swipeUp"> 
                        <a href="#" class=" icon-up-arrow" color="gray" fs="26">上拉显示图文详情</a>
                    </div>
                <!-- 上拉显示图文详情：end -->

                <!-- 图文详情：start -->
                <div class="goods-detail-pic">
                    <div class="pic-box ge-lazy-pic">
                        <img data-original="images/goods.jpeg" alt="">
                    </div>
                    <div class="pic-box ge-lazy-pic">
                        <img data-original="images/goods.jpeg" alt="">
                    </div>

                    <div class="pic-box ge-lazy-pic">
                        <img data-original="images/goods.jpeg" alt="">
                    </div>
                    <div class="pic-box ge-lazy-pic">
                        <img data-original="images/goods.jpeg" alt="">
                    </div>
                </div>
                <!-- 图文详情：end -->

                <!-- tab-商品：end -->
            </li>
            <li class="tab-body-item ">
                <!-- 商品详情：start -->
                <div class="goods-detail-pic curr">
                    <div class="pic-box ge-lazy-pic">
                        <img data-original="images/goods.jpeg" alt="">
                    </div>
                    <div class="pic-box ge-lazy-pic">
                        <img data-original="images/goods.jpeg" alt="">
                    </div>

                    <div class="pic-box ge-lazy-pic">
                        <img data-original="images/goods.jpeg" alt="">
                    </div>
                    <div class="pic-box ge-lazy-pic">
                        <img data-original="images/goods.jpeg" alt="">
                    </div>
                </div>
                <!-- 商品详情：end -->
            </li>
            <li class="tab-body-item">
                <!-- 商品评价：start -->
                <div class="goods-evaluate-wrap">
                    <ul class="ge-group-min tab-evaluate">
                        <li class="curr">
                            <p>全部评价</p>
                            <p>999</p>
                        </li>
                        <li>
                            <p>好评</p>
                            <p>999</p>
                        </li>
                        <li>
                            <p>中评</p>
                            <p>999</p>
                        </li>
                        <li>
                            <p>差评</p>
                            <p>999</p>
                        </li>
                        <li>
                            <p>晒图</p>
                            <p>999</p>
                        </li>
                    </ul>
                    <div class="evaluate">
                        <div class="evaluate-ls ge-group-min">
                            <div class="ge-flex ge-flex-vc evaluate-user">
                                <div class="ge-flex-1 ge-flex flex-info">
                                    <div class="user-avator ge-lazy-pic">
                                        <img src="images/goods.jpeg" alt="">
                                    </div>
                                    <div class="ge-flex-1">
                                        <p class="user-id" color="dark" fs="26">1865143353</p>
                                        <p class="user-star" star="3"></p>
                                    </div>
                                </div>
                                <div class="flex-date" color="gray" fs="26">
                                    2017-04-08
                                </div>
                            </div>  
                            <div class="evaluate-goods">
                                <div class="text" color="dark" fs="26" line="1.2">
                                    质量好，物流块，很喜欢
                                </div>
                                <div class="pic ge-lazy-pic">
                                    <img src="images/goods.jpeg" alt="">
                                    <img src="images/goods.jpeg" alt="">
                                    <img src="images/goods.jpeg" alt="">
                                </div>
                                <div line="1.6">
                                    <p color="gray" fs="26">
                                        <span>彩色</span>
                                        <span>200cm</span>
                                    </p>
                                    <p color="gray" fs="26">购买日期：<span>2017-04-06</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="evaluate-ls ge-group-min">
                            <div class="ge-flex ge-flex-vc evaluate-user">
                                <div class="ge-flex-1 ge-flex flex-info">
                                    <div class="user-avator ge-lazy-pic">
                                        <img src="images/goods.jpeg" alt="">
                                    </div>
                                    <div class="ge-flex-1">
                                        <p class="user-id" color="dark" fs="26">1865143353</p>
                                        <p class="user-star" star="5"></p>
                                    </div>
                                </div>
                                <div class="flex-date" color="gray" fs="26">
                                    2017-04-08
                                </div>
                            </div>  
                            <div class="evaluate-goods">
                                <div class="text" color="dark" fs="26" line="1.2">
                                    质量好，物流块，很喜欢
                                </div>
                                <div class="pic ge-lazy-pic">
                                    <img src="images/goods.jpeg" alt="">
                                    <img src="images/goods.jpeg" alt="">
                                    <img src="images/goods.jpeg" alt="">
                                </div>
                                <div line="1.6">
                                    <p color="gray" fs="26">
                                        <span>彩色</span>
                                        <span>200cm</span>
                                    </p>
                                    <p color="gray" fs="26">购买日期：<span>2017-04-06</span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- 商品评价：end -->
            </li>
        </ul>
    </div>
    <!-- tab-body:end -->
</div>
    
    



    <!-- build:js scripts/vendor.js -->
    <!-- bower:js -->
    <script src="/bower_components/jquery/jquery.js"></script>
    <script src="/bower_components/slick-carousel/slick/slick.js"></script>
    <script src="/bower_components/layer/src/layer.js"></script>
    <script src="/bower_components/jieyou_lazyload/lazyload.js"></script>
    <script src="/bower_components/jquery-sticky/jquery.sticky.js"></script>
    <script src="/bower_components/swiper/dist/js/swiper.js"></script>
    <script src="/bower_components/jquery-touchswipe/jquery.touchSwipe.js"></script>
    <!-- endbower -->
    <!-- endbuild -->


    <script>
        // 获取高亮方法
        function getCurr(sub,className){
            var sub = $(sub);
            sub.click(function(e) {
                $(this).addClass(className).siblings().removeClass(className);
            });
        }

        // 延迟加载
        function lazyLoad(){
            var lazyBox = $('.ge-lazy-pic img');
            lazyBox.lazyload({effect : 'fadeIn'});
        }
        lazyLoad();

        // 商品部分交互
        ;(function($){
            // 商品轮播
            $('.ge-comm-slick').slick({
                arrows:false,
                lazyLoad:'ondemand',
                dots:true,
            })
            // 支付方式选择
            getCurr('#select-payway span','curr');

            // 上拉显示图文详情
            var swipeBox = $('#swipeUp');
            var goodsPicBox = $('.goods-detail-pic');
            swipeBox.swipe( {
            swipeUp:function(event, direction, distance, duration, fingerCount, fingerData) {
              goodsPicBox.addClass('curr');
            }
          });


        })(jQuery);

        // 评价 切换
        ;(function ($) {
            var tabTitle = $('.tab-evaluate li');
            tabTitle.click(function() {

                getCurr('.tab-evaluate li','curr');
            });
        })(jQuery)

        // 顶部tab 实现切换效果
        ;(function($){
            var tabBox = $('.Tab');
            var tabTitle = tabBox.find('.tab-header-item');
            var tabCon = tabBox.find('.tab-body-item');

            tabTitle.click(function(event) {
                
                getCurr('.Tab .tab-header-item','curr');
                var _index = $(this).index();
                tabCon.eq(_index).addClass('curr').siblings('').removeClass('curr');
                lazyLoad();
            });

        })(jQuery);

        // 为你推荐 ajax加载
        ;(function($){
            var tab = $('#tabWrap .item');
            loadTab(0);
            tab.eq(0).addClass('curr');
            tab.click(function() {
                getCurr('#tabWrap .item','curr');
                $('.goods-slick-wrap').empty();
                var _id = $(this).attr('data-id');
                loadTab(_id)
            });

            // 加载tab-为您推荐
            function loadTab(req) {
                var url = 'http://localhost:3003/goodsList'+req;
                $.ajax({
                    url: url,
                    type: 'GET',
                    dataType: 'json',
                    cache:false,
                    data: {dataId: req},
                })
                .done(function(data) {

                    for(var i = 0;i <data.length;i++){
                        var goodsDom = '<div class="goods-wrap ge-boxs swiper-slide"><div class="ge-square-box"><img src="'+data[i].images+'" alt=""></div><p class="ge-aline">'+data[i].name+'</p><p class="">￥'+data[i].price+'</p></div>';
                        $('.goods-slick-wrap').append(goodsDom)
                    }
                    // 插件-swiper
                    var mySwiper = new Swiper('.swiper-container', {
                        slidesPerView : 3.3,
                        onInit: function(swiper){
                        }
                    })

                })
                .fail(function() {
                    console.log("error");
                });
            }
        })(jQuery);
        
    </script>
</body>
</html>